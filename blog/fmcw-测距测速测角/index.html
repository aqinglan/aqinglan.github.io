<!DOCTYPE html><html lang="zh-CN, en-US"><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1,shrink-to-fit=no" name=viewport><meta content="IE=edge" http-equiv=X-UA-Compatible><title>FMCW测距测速测角 • Akiのink</title><link href=/favicon/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon/favicon-32x32.png rel=icon type=image/png sizes=32x32><link href=/favicon/favicon-16x16.png rel=icon type=image/png sizes=16x16><link href=/favicon/site.webmanifest rel=manifest><link href=/fonts/Satoshi-Variable.ttf rel=preload type=font/ttf as=font crossorigin><link href=/fonts/Satoshi-VariableItalic.ttf rel=preload type=font/ttf as=font crossorigin><link href=https://astro-theme-pure.vercel.app/blog/fmcw-%E6%B5%8B%E8%B7%9D%E6%B5%8B%E9%80%9F%E6%B5%8B%E8%A7%92 rel=canonical><meta content="FMCW测距测速测角 • Akiのink" name=title><meta content=" 利用毫米波雷达测距测速测角度 " name=description><meta content=Aki name=author><meta content="" name=theme-color><meta content=article property=og:type><meta content=FMCW测距测速测角 property=og:title><meta content=" 利用毫米波雷达测距测速测角度 " property=og:description><meta content=https://astro-theme-pure.vercel.app/blog/fmcw-%E6%B5%8B%E8%B7%9D%E6%B5%8B%E9%80%9F%E6%B5%8B%E8%A7%92 property=og:url><meta content=Akiのink property=og:site_name><meta content=en_US property=og:locale><meta content=https://astro-theme-pure.vercel.app/images/social-card.png property=og:image><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><meta content=Aki property=article:author><meta content=2023-09-12T23:55:10.000Z property=article:published_time><meta content=summary_large_image property=twitter:card><meta content=https://astro-theme-pure.vercel.app/blog/fmcw-%E6%B5%8B%E8%B7%9D%E6%B5%8B%E9%80%9F%E6%B5%8B%E8%A7%92 property=twitter:url><meta content=FMCW测距测速测角 property=twitter:title><meta content=" 利用毫米波雷达测距测速测角度 " property=twitter:description><meta content=https://astro-theme-pure.vercel.app/images/social-card.png property=twitter:image><meta content=@cworld0_cn name=telegram:channel><link href=/sitemap-index.xml rel=sitemap><link href=https://astro-theme-pure.vercel.app/rss.xml rel=alternate type=application/rss+xml title=Akiのink><meta content="Astro v4.16.10" name=generator><link href=/styles/global.css rel=stylesheet><vercel-speed-insights data-params={&#34;slug&#34;:&#34;fmcw-测距测速测角&#34;} data-pathname=/blog/fmcw-%E6%B5%8B%E8%B7%9D%E6%B5%8B%E9%80%9F%E6%B5%8B%E8%A7%92 data-props={}></vercel-speed-insights><script>console.log("%c Astro Theme Pure %c https://github.com/cworld1/astro-theme-pure/","color:#fff;background:linear-gradient(90deg,#448bff,#44e9ff);padding:5px 0;","color:#000;background:linear-gradient(90deg,#44e9ff,#ffffff);padding:5px 10px 5px 0px;")</script><link href=/_astro/_slug_.XaQ6XQsx.css rel=stylesheet><link href=/_astro/_slug_.BLJzc6jn.css rel=stylesheet><style>#waline[data-astro-cid-ksttp56e]{--waline-font-size:16px;--waline-white:hsl(var(--background) / var(--tw-bg-opacity));--waline-light-grey:#999;--waline-dark-grey:#666;--waline-theme-color:hsl(var(--foreground) / var(--tw-text-opacity));--waline-active-color:hsl(var(--primary) / var(--tw-text-opacity));--waline-color:hsl(var(--muted-foreground) / var(--tw-text-opacity));--waline-bg-color:hsl(var(--primary-foreground) / var(--tw-bg-opacity));--waline-bg-color-light:hsl(var(--input) / var(--tw-bg-opacity));--waline-bg-color-hover:#f0f0f0;--waline-border-color:hsl(var(--border) / var(--tw-border-opacity));--waline-disable-bg-color:#f8f8f8;--waline-disable-color:#bbb;--waline-code-bg-color:#282c34;--waline-bq-color:#f0f0f0;--waline-avatar-size:3.25rem;--waline-m-avatar-size:calc(var(--waline-avatar-size) * 9 / 13);--waline-badge-color:#3498db;--waline-badge-font-size:.775em;--waline-info-bg-color:var(--waline-bg-color-light);--waline-info-color:var(--waline-color);--waline-info-font-size:.625em;--waline-border:1px solid var(--waline-border-color);--waline-avatar-radius:50%;--waline-box-shadow:none}#waline[data-astro-cid-ksttp56e] .wl-reaction-title{display:none!important}#waline[data-astro-cid-ksttp56e] .wl-reaction{overflow:visible}#waline[data-astro-cid-ksttp56e] blockquote{position:relative;border-inline-start:4px solid transparent!important}#waline[data-astro-cid-ksttp56e] blockquote:before{content:"";height:100%;width:4px;left:-4px;top:0;position:absolute;border:2px solid var(--waline-bq-color)!important;border-radius:9999px}</style><link href=/_astro/_slug_.C639AhNv.css rel=stylesheet><script type=module src=/_astro/hoisted.B8nntUZK.js></script><script type=module src=/_astro/page.V2R8AmkL.js></script><script>window.va=window.va||function(){(window.vaq=window.vaq||[]).push(arguments)};var script=document.createElement("script");script.defer=!0,script.src="/_vercel/insights/script.js";var head=document.querySelector("head");head.appendChild(script)</script></head><body class="flex bg-background justify-center"><script>const lightModePref=window.matchMedia("(prefers-color-scheme: light)");function getUserPref(){return localStorage.getItem("theme")||(lightModePref.matches?"light":"dark")}function setTheme(e,t=!1){if(!["light","dark"].includes(e))return void console.log(`Invalid theme value '${e}' received. Expected 'light' or 'dark'.`);t&&localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark","dark"===e);const r="dark"===e?"#0B0B10":"#FCFCFD";document.querySelector('meta[name="theme-color"]')?.setAttribute("content",r)}setTheme(getUserPref()),document.addEventListener("astro:after-swap",(()=>setTheme(getUserPref()))),document.addEventListener("theme-change",(e=>{const t=e.detail.theme;localStorage.setItem("theme",t),setTheme(e.detail.theme,!0)})),lightModePref.addEventListener("change",(e=>{setTheme(e.matches?"light":"dark")}))</script><main class="flex items-center flex-col leading-relaxed lg:px-10 max-w-[60rem] min-h-screen pb-10 px-4 sm:px-7 text-[0.92rem] w-screen z-10"><header-component class="transition-all py-1 border group [&#38;.not-top]:bg-background [&#38;.not-top]:border-border border-transparent box-content dark:[&#38;.not-top]:bg-primary-foreground duration-300 mb-16 rounded-xl sm:rounded-2xl sticky top-4 w-full z-30" data-astro-cid-qlfjksao><header class="flex flex-wrap sm:flex-nowrap sm:justify-start text-sm" data-astro-cid-qlfjksao><nav aria-label=global class="flex items-center justify-between mx-auto relative sm:flex sm:items-center w-full" data-astro-cid-qlfjksao><div class="hidden -left-4 -z-10 absolute box-content dark:max-sm:group-[.expanded]:bg-primary-foreground max-sm:group-[.expanded.not-top]:hidden max-sm:group-[.expanded]:block w-[calc(100%+2rem)] !duration-0 -top-8 h-20 max-sm:group-[.expanded]:bg-white" data-astro-cid-qlfjksao></div><a class="transition-all duration-300 flex-none font-semibold group-[.not-top]:ms-3 sm:group-[.not-top]:ms-5 text-xl" href=/ aria-label=Brand data-astro-cid-qlfjksao>Akiのink</a><div class="flex gap-x-4 sm:gap-x-6" data-astro-cid-qlfjksao><div class="transition-all duration-300 dark:group-[.expanded.not-top]:bg-primary-foreground end-0 grid group-[.expanded]:opacity-100 group-[.not-top]:rounded-xl max-md:border-b max-sm:absolute max-sm:group-[.expanded]:bg-background max-sm:group-[.not-top]:border max-sm:group-[.not-top]:pb-2 max-sm:group-[.not-top]:pt-2 max-sm:group-[.not-top]:px-4 max-sm:opacity-0 max-sm:pb-4 max-sm:pt-0 sm:border-0 sm:grid-rows-1 start-0 top-12 z-20" data-astro-cid-qlfjksao id=headerExpandConetent><div class="hidden -left-4 -z-10 absolute box-content dark:max-sm:group-[.expanded]:bg-primary-foreground max-sm:group-[.expanded.not-top]:hidden max-sm:group-[.expanded]:block w-[calc(100%+2rem)] bg-white h-full max-md:border-b top-0" data-astro-cid-qlfjksao></div><div class="flex items-center flex-col sm:flex-row gap-x-5 gap-y-2 justify-center overflow-hidden sm:gap-x-7 transition-colors" data-astro-cid-qlfjksao><a class="py-2 text-right flex-none font-medium grow hover:text-primary sm:w-fit text-[1.05rem] w-full" href=/blog aria-label="Nav Menu Item" data-astro-cid-qlfjksao>Blog </a><a class="py-2 text-right flex-none font-medium grow hover:text-primary sm:w-fit text-[1.05rem] w-full" href=/projects aria-label="Nav Menu Item" data-astro-cid-qlfjksao>Projects </a><a class="py-2 text-right flex-none font-medium grow hover:text-primary sm:w-fit text-[1.05rem] w-full" href=/links aria-label="Nav Menu Item" data-astro-cid-qlfjksao>Links </a><a class="py-2 text-right flex-none font-medium grow hover:text-primary sm:w-fit text-[1.05rem] w-full" href=/about aria-label="Nav Menu Item" data-astro-cid-qlfjksao>About</a><div class="flex flex-row gap-x-3 grow justify-end sm:gap-x-5 sm:w-fit w-full" data-astro-cid-qlfjksao><a class="py-2 px-1" href=https://www.travellings.cn/go.html data-astro-cid-qlfjksao title=Travelling><span class=sr-only data-astro-cid-qlfjksao>Travelling</span> <svg class=size-5 data-astro-cid-qlfjksao><use href=/icons/header.svg#mingcute-train-2-line data-astro-cid-qlfjksao></use></svg> </a><a class="py-2 px-1" href=/search data-astro-cid-qlfjksao title=Search><span class=sr-only data-astro-cid-qlfjksao>Search</span> <svg class=size-5 data-astro-cid-qlfjksao><use href=/icons/header.svg#mingcute-search-2-line data-astro-cid-qlfjksao></use></svg></a></div></div></div><div class="flex gap-x-4 group-[.not-top]:gap-x-2 group-[.not-top]:me-1.5 transition-all" data-astro-cid-qlfjksao><button class="transition-all border hover:bg-border p-1.5 rounded-md sm:group-[.not-top]:rounded-xl group/dark" id=toggleDarkMode data-astro-cid-qlfjksao><span class=sr-only data-astro-cid-qlfjksao>Dark Theme</span> <svg class="transition-all group-hover/dark:text-primary size-5 dark:hidden" data-astro-cid-qlfjksao><use href=/icons/header.svg#mingcute-sun-line data-astro-cid-qlfjksao></use></svg> <svg class="transition-all group-hover/dark:text-primary size-5 dark:block hidden" data-astro-cid-qlfjksao><use href=/icons/header.svg#mingcute-moon-stars-line data-astro-cid-qlfjksao></use></svg></button> <button class="transition-all border hover:bg-border p-1.5 rounded-md sm:group-[.not-top]:rounded-xl sm:hidden" id=toggleMenu data-astro-cid-qlfjksao><span class=sr-only data-astro-cid-qlfjksao>Menu</span> <svg class=size-5 data-astro-cid-qlfjksao><use href=/icons/header.svg#mingcute-menu-line data-astro-cid-qlfjksao></use></svg></button></div></div></nav></header></header-component><div class=w-full data-astro-cid-bvzihdzo style="--primaryColor:hsl(var(--primary) / var(--tw-text-opacity))"><a class="transition-all py-1 border group bg-primary-foreground border-border gap-x-1 hover:bg-input inline-flex items-center no-underline px-2 rounded-lg text-muted-foreground text-sm" href=/blog data-astro-cid-bvzihdzo data-astro-prefetch><svg class="group-hover:stroke-primary stroke-muted-foreground" fill=none height=16 stroke-linecap=round stroke-linejoin=round stroke-width=2.5 viewBox="0 0 24 24" width=16 xmlns=http://www.w3.org/2000/svg><line class="transition-all duration-300 ease-in-out group-hover:scale-x-100 scale-x-0 group-hover:translate-x-0 translate-x-3" x1=19 x2=5 y1=12 y2=12></line><polyline class="transition-all duration-300 ease-in-out group-hover:translate-x-0 translate-x-1" points="12 19 5 12 12 5"></polyline></svg><p class=my-0>Back</p></a><div class="gap-x-10 lg:flex lg:items-start mt-8" data-astro-cid-bvzihdzo style="--primaryColor:hsl(var(--primary) / var(--tw-text-opacity))"><aside class="animate -me-24 basis-60 max-lg:hidden order-2 sticky top-[15%]"><toc-heading><h2 class=font-semibold>TABLE OF CONTENTS</h2><ul class="max-h-[70vh] mt-4 overflow-y-scroll text-card-foreground"><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75" href=#距离测量 aria-label="Scroll to section: 距离测量">距离测量</a></div><ul><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#距离计算 aria-label="Scroll to section: 距离计算">距离计算</a></div></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#相关参数 aria-label="Scroll to section: 相关参数">相关参数</a></div></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#距离计算代码 aria-label="Scroll to section: 距离计算代码">距离计算代码</a></div></li></ul></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75" href=#速度测量 aria-label="Scroll to section: 速度测量">速度测量</a></div><ul><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#速度计算 aria-label="Scroll to section: 速度计算">速度计算</a></div></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#相关参数-1 aria-label="Scroll to section: 相关参数：">相关参数：</a></div></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#速度计算代码 aria-label="Scroll to section: 速度计算代码">速度计算代码</a></div></li></ul></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75" href=#角度测量 aria-label="Scroll to section: 角度测量">角度测量</a></div><ul><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#角度计算 aria-label="Scroll to section: 角度计算">角度计算</a></div></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75 ps-7" href=#角度计算代码 aria-label="Scroll to section: 角度计算代码">角度计算代码</a></div></li></ul></li><li><div class=relative><span class="duration-300 transition-colors [&.highlight-bg]:bg-primary [&.readed]:bg-input absolute rounded top-[5%] w-[2px]"></span> <a class="transition-all py-1 [&#38;.highlight-bg-translucent]:bg-primary-foreground [&#38;.highlight]:font-medium [&#38;.highlight]:text-primary [&#38;.readed]:text-input flex-1 hover:text-foreground line-clamp-2 ms-2 px-3 text-foreground/75" href=# aria-label="Scroll to section: "></a></div></li></ul></toc-heading></aside><article class="break-words flex-grow" data-astro-cid-bvzihdzo data-pagefind-body style="flex-grow:3;flex-shrink:1;flex-basis:60%;--primaryColor:hsl(var(--primary) / var(--tw-text-opacity))"><div data-astro-cid-bvzihdzo style="--primaryColor:hsl(var(--primary) / var(--tw-text-opacity))" id=blog-hero><div class="animate max-lg:mx-auto article-info max-w-[65ch]"><div class="flex flex-wrap gap-x-4 gap-y-2 leading-6 text-muted-foreground text-xs"><div class="flex items-center gap-1"><svg class=size-5><use href=/icons/ui.svg#mingcute-calendar-2-line></use></svg> <samp class=text-muted-foreground><time datetime=2023-09-12T23:55:10.000Z>Sep 13, 2023</time></samp></div><div class="flex items-center gap-1"><svg class=size-5><use href=/icons/ui.svg#mingcute-time-line></use></svg> 12 min read</div><span class="flex items-center gap-1"><svg class=size-5><use href=/icons/project.svg#mingcute-earth-2-line></use></svg> 中文</span></div><h1 class="font-medium mt-4 sm:mb-2 sm:mt-6 sm:text-3xl text-2xl">FMCW测距测速测角</h1><div class="flex items-center flex-row flex-wrap gap-x-1 mt-3 sm:mt-5"><svg class=size-5><use href=/icons/ui.svg#mingcute-tag-line></use></svg><div><a class="before:content-['#'] hover:underline hover:underline-offset-4 inline-block" href=/tags/fmcw aria-label="View more blogs with the tag fmcw" data-pagefind-filter=tag>fmcw </a>,</div><div><a class="before:content-['#'] hover:underline hover:underline-offset-4 inline-block" href=/tags/测量 aria-label="View more blogs with the tag 测量" data-pagefind-filter=tag>测量</a></div></div><div class="mt-3 italic"><blockquote class="text-muted-foreground text-sm"><q>利用毫米波雷达测距测速测角度</q></blockquote><div class="text-muted-foreground text-sm mt-1"><span class=waline-pageview-count data-path=/blog/fmcw-测距测速测角></span> views | <span class=waline-comment-count data-path=/blog/fmcw-测距测速测角></span> comments</div></div></div><div class="sm:mt-6 mt-4 border-t max-lg:mx-auto sm:w-1/3 w-1/2"></div></div><div class="text-muted-foreground dark:prose-invert mt-8 prose prose-base prose-headings:before:-ms-4 prose-headings:before:absolute prose-headings:font-medium prose-headings:text-foreground prose-th:before:content-none prose-zinc animate max-lg:mx-auto" data-astro-cid-bvzihdzo style="--primaryColor:hsl(var(--primary) / var(--tw-text-opacity))" id=content><h1 id=fmcw测距测速测角>FMCW测距测速测角</h1><h2 id=距离测量>距离测量</h2><h3 id=距离计算>距离计算</h3><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 由于中频信号是一余弦信号，因此对中频信号做傅立叶变换（FFT）即可得到频率和相位。需要注意，在此处均是对一个chirp周期T内的中频信号做处理，由于周期T很短，可将一个周期内的时间t称为快时间（Fast Time）。根据傅立叶变换的性质，对一个中频信号s(t)做FFT，可以得到一列复数。每个复数对应于一个频率分量，其幅值和相位分别代表该频率分量的振幅和相位 <img alt="" decoding=async height=340 loading=lazy src=/_astro/F3.BDcVFkxn_2esBeU.webp width=1172></p><blockquote><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>R</mi><mo>=</mo><mo stretchy=false>(</mo><mi>c</mi><mi mathvariant=normal>/</mi><mn>2</mn><mi>k</mi><mo stretchy=false>)</mo><msub><mi>f</mi><mi>b</mi></msub><mo>=</mo><msub><mi>f</mi><mi>b</mi></msub><mo stretchy=false>(</mo><mi>c</mi><mi>T</mi><mi mathvariant=normal>/</mi><mn>2</mn><mi>B</mi><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>R=(c/2k )f_b =f_b(cT/2B)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mopen>(</span><span class="mord mathnormal">c</span><span class=mord>/2</span><span class="mord mathnormal" style=margin-right:.03148em>k</span><span class=mclose>)</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3361em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">b</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3361em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">b</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mopen>(</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=mord>/2</span><span class="mord mathnormal" style=margin-right:.05017em>B</span><span class=mclose>)</span></span></span></span></p></blockquote><h3 id=相关参数>相关参数</h3><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> (a).距离分辨率。距离分辨率的意义是，仅当两个物体的距离大于分辨率<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi></mrow><annotation encoding=application/x-tex>\Delta</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class=mord>Δ</span></span></span></span>R 时，他们才能在距离谱上被分辨出来。假设FMCW雷达的ADC采样率为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>F</mi><mi>s</mi></msub></mrow><annotation encoding=application/x-tex>F_s</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8333em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>F</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span> ，对周期T的chirp信号做FFT，则FFT的频率分辨率为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><msub><mi>f</mi><mi>b</mi></msub><mo>=</mo><mn>1</mn><mi mathvariant=normal>/</mi><mi>T</mi></mrow><annotation encoding=application/x-tex>\Delta f_b=1/T</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8889em;vertical-align:-.1944em></span><span class=mord>Δ</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3361em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">b</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>1/</span><span class="mord mathnormal" style=margin-right:.13889em>T</span></span></span></span> 。根据测距公式得到测距的分辨率为：<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><mi>R</mi><mo>=</mo><mi>c</mi><mi>T</mi><mi mathvariant=normal>/</mi><mo stretchy=false>(</mo><mn>2</mn><mi>B</mi><mo stretchy=false>)</mo><mi mathvariant=normal>Δ</mi><msub><mi>f</mi><mi>b</mi></msub></mrow><annotation encoding=application/x-tex>\Delta R =cT/(2B) \Delta f_b</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=mord>/</span><span class=mopen>(</span><span class=mord>2</span><span class="mord mathnormal" style=margin-right:.05017em>B</span><span class=mclose>)</span><span class=mord>Δ</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3361em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">b</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span> =c/2B . 可见距离分辨率仅与雷达信号的带宽.</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span>(b).测距精度。测距精度的意义是：一个物体距离测量的准确度，并不等同于雷达的距离分辨率。在雷达测距的实际应用中，测距精度是评定雷达和算法性能的重要指标。主要有两种方法提高测距精度：一是提高雷达接收机的ADC采样率，即以更多的采样点数采样中频信号，从而更好地估计周期性不完整的中频信号频率；二是在做FFT时应用补零或插值的方法。</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> (c).理论最远可测距离。根据采样定理，当雷达的采样率为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>F</mi><mi>s</mi></msub></mrow><annotation encoding=application/x-tex>F_s</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8333em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>F</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span> 时，FFT可测的最大频率为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>f</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>=</mo><msub><mi>F</mi><mi>s</mi></msub><mi mathvariant=normal>/</mi><mn>2</mn></mrow><annotation encoding=application/x-tex>f_{max}=F_s/2</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8889em;vertical-align:-.1944em></span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>F</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord>/2</span></span></span></span> 。因此，根据测距公式，雷达的理论最远可测距离为：<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>R</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>=</mo><mi>c</mi><mi>T</mi><msub><mi>F</mi><mi>s</mi></msub><mi mathvariant=normal>/</mi><mn>4</mn><mi>B</mi></mrow><annotation encoding=application/x-tex>R_{max} = cTF_s/4B</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8333em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.0077em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">c</span><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>F</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">s</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord>/4</span><span class="mord mathnormal" style=margin-right:.05017em>B</span></span></span></span> 与一个chirp的周期、带宽和系统采样率有关。假定雷达的采样率可以无限大，为了采样带宽为B的chirp信号，根据采样定理，采样率至少为2B，则此时最远可测距离为cT/2。</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> (d).实际最远可测距离。在实际应用中，雷达的实际最远可测距离往往无法达到理论值，这是因为对于一些较远的物体，中频信号的振幅很小，使得信号的信噪比很低，导致物体无法被检测到。</p><img alt="" decoding=async height=664 loading=lazy src=/_astro/F4.C738EmiR_Z1SgN1d.webp width=1476><h3 id=距离计算代码>距离计算代码</h3><pre class="astro-code astro-code-themes github-dark github-light" data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function [fft_data_all_frames] = readRawDataAnd1DFFT(file_name, frame_num)</span></span>
<span class=line><span></span></span>
<span class=line><span>global N_CHIRP;</span></span>
<span class=line><span></span></span>
<span class=line><span>global RX_NUM;</span></span>
<span class=line><span></span></span>
<span class=line><span>global FFTR_SIZE;</span></span>
<span class=line><span></span></span>
<span class=line><span>global FRAME_SIZE;</span></span>
<span class=line><span></span></span>
<span class=line><span>global TX_NUM;</span></span>
<span class=line><span></span></span>
<span class=line><span>global RANGE_RESERVED_DOTS;</span></span>
<span class=line><span></span></span>
<span class=line><span>global FFTV_SIZE;</span></span>
<span class=line><span></span></span>
<span class=line><span>global CHIRPS_PER_FRAME;</span></span>
<span class=line><span></span></span>
<span class=line><span>global TX_ENABLE;</span></span>
<span class=line><span></span></span>
<span class=line><span>global RX_ENABLE;</span></span>
<span class=line><span></span></span>
<span class=line><span>%参数定义</span></span>
<span class=line><span></span></span>
<span class=line><span>% 包括N_CHIRP（每个Frame里chrip数）、RX_NUM（接收通道数）、FFTR_SIZE（FFT点数:每个chrip数据量）、FRAME_SIZE（每帧的样本数）、TX_NUM（发送通道数）、RANGE_RESERVED_DOTS（保留的距离向量长度）、FFTV_SIZE（FFT点数*速度点数）、CHIRPS_PER_FRAME（每帧的扫频数）、TX_ENABLE（启用的发送通道数）、RX_ENABLE（启用的接收通道数）。</span></span>
<span class=line><span></span></span>
<span class=line><span>file = fopen(file_name);%打开文件</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('begin read')</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = fread(file,'short=>short');</span></span>
<span class=line><span></span></span>
<span class=line><span>%short=>short 是source=>output,raw_data_array意为原始数据向量</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('finish read')</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = single(raw_data_array);</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('finish convert to single')</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = raw_data_array / 4;</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = raw_data_array(1:frame_num*FRAME_SIZE/2);</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = reshape(raw_data_array, [FFTR_SIZE, RX_NUM * N_CHIRP * frame_num]);</span></span>
<span class=line><span></span></span>
<span class=line><span>%转为单精度浮点并缩放</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('begin fft')</span></span>
<span class=line><span></span></span>
<span class=line><span>window = hamming(FFTR_SIZE);</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = raw_data_array .* window;</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = fft(raw_data_array);</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('finish fft')</span></span>
<span class=line><span></span></span>
<span class=line><span>% data_array_fft = data_array_fft(1:(RANGE_RESERVED_DOTS+1),:);</span></span>
<span class=line><span></span></span>
<span class=line><span>% data_array_fft = reshape(data_array_fft,[RANGE_RESERVED_DOTS+1, RX_NUM, N_CHIRP, frame_num]);</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = reshape(raw_data_array,[FFTR_SIZE, RX_NUM, N_CHIRP, frame_num]);</span></span>
<span class=line><span></span></span>
<span class=line><span>raw_data_array = permute(raw_data_array, [4,3,2,1]);</span></span>
<span class=line><span></span></span>
<span class=line><span>%这些行将FFT数据重塑为一个大小为frame_num * RX_NUM * N_CHIRP * FFTR_SIZE的数组，并对维度进行重新排列。</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('begin TX')</span></span>
<span class=line><span></span></span>
<span class=line><span>fft_data_all_frames = zeros(frame_num,TX_NUM,CHIRPS_PER_FRAME,RX_NUM,RANGE_RESERVED_DOTS+1,'single');</span></span>
<span class=line><span></span></span>
<span class=line><span>for i = 1:TX_NUM</span></span>
<span class=line><span></span></span>
<span class=line><span>fft_data_all_frames(:,i,:,:,:) = raw_data_array(:, i:TX_NUM:N_CHIRP, :, 1:RANGE_RESERVED_DOTS+1);</span></span>
<span class=line><span></span></span>
<span class=line><span>end</span></span>
<span class=line><span></span></span>
<span class=line><span>% disp('finish TX')</span></span>
<span class=line><span></span></span>
<span class=line><span>fft_data_all_frames = permute(fft_data_all_frames,[1,2,4,3,5]);</span></span>
<span class=line><span></span></span>
<span class=line><span>disp('finish read and 1d FFT')</span></span>
<span class=line><span></span></span>
<span class=line><span>end</span></span>
<span class=line><span></span></span>
<span class=line><span></span></span></code></pre><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 实际距离谱： <img alt="" decoding=async height=822 loading=lazy src=/_astro/F5.DgGAcr7G_165XnX.webp width=1034></p><h2 id=速度测量>速度测量</h2><h3 id=速度计算>速度计算</h3><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 物体速度是距离变化的体现，因此在获得了距离计算方法后可以进一步计算物体的运动速度</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> （1）距离谱法。在获得了距离谱之后，一个很直观的计算物体运动速度的方法是，对于慢时间的多个chirp</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> （2）相位改变法:基于相位的微小运动计算方法，计算步骤为：</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> a. 随着慢时间的改变共有N个chirp被发送，对每个chirp做傅立叶变换得到N个距离谱。由于物体位置变化远小于距离分辨率，因此计算得到的N个距离谱相同。</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> b. 在每个距离谱上均可以观察到该物体，选定该物体的距离域，对N个chirp中该物体的距离域均取相位，可以得到N个相位值。</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> c. 对这N个相位值取解绕，得到连续的相位变化。</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> d. 根据公式换算得到物体连续的距离变化。</p><img alt="" decoding=async height=230 loading=lazy src=/_astro/F6.B2WYs0DC_1GvDNs.webp width=670><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> (3).2Dfft 法</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 可以选择连续的多个chirp计算相位变化。考虑<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>T</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=application/x-tex>T_{tot}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8333em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.2806em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span>时间（如0.01s）内连续的N个（如10个）chirp，先做FFT得到N个距离谱。在<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>T</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=application/x-tex>T_{tot}</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8333em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.2806em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span>时间内物体距离的改变不超过一个距离域，因此这些距离谱中该物体对应的距离域相同。根据前文分析，任意两个chirp之间，该距离域的相位改变均为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><mi>ψ</mi><mo>=</mo><mn>4</mn><mi>π</mi><msub><mi>f</mi><mi>c</mi></msub><mi>v</mi><msub><mi>T</mi><mi>c</mi></msub><mi mathvariant=normal>/</mi><mi>c</mi></mrow><annotation encoding=application/x-tex>\Delta \psi = 4\pi f_c vT_c/c</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8889em;vertical-align:-.1944em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.03588em>ψ</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>4</span><span class="mord mathnormal" style=margin-right:.03588em>π</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class="mord mathnormal" style=margin-right:.03588em>v</span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord>/</span><span class="mord mathnormal">c</span></span></span></span> ，因此在全部N个距离谱中该物体对应距离域的复数以为此为角速度在复平面上转动。进而，对于这一列复数做FFT，可以得到一个新的能量分布谱。对应物体速度为</p><blockquote><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>v</mi><mo>=</mo><mi>ϖ</mi><mi>c</mi><mi mathvariant=normal>/</mi><mo stretchy=false>(</mo><mn>4</mn><mi>π</mi><msub><mi>f</mi><mi>c</mi></msub><msub><mi>T</mi><mi>c</mi></msub><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>v=\varpi c /(4 \pi f_c T_c)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.4306em></span><span class="mord mathnormal" style=margin-right:.03588em>v</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal" style=margin-right:.02778em>ϖ</span><span class="mord mathnormal">c</span><span class=mord>/</span><span class=mopen>(</span><span class=mord>4</span><span class="mord mathnormal" style=margin-right:.03588em>π</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span></p></blockquote><img alt="" decoding=async height=394 loading=lazy src=/_astro/F0.VzOWCiLQ_Z1pzcvT.webp width=912><h3 id=相关参数-1>相关参数：</h3><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> （a）速度测量的分辨率。由于共有N=<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>T</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mi mathvariant=normal>/</mi><msub><mi>T</mi><mi>c</mi></msub></mrow><annotation encoding=application/x-tex>T_{tot}/T_c</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.2806em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord>/</span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span> 个chrip，则FFT时共有N个采样点，则频率分辨率为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><mi>ϖ</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi mathvariant=normal>/</mi><mi>N</mi></mrow><annotation encoding=application/x-tex>\Delta \varpi = 2\pi/N</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.02778em>ϖ</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>2</span><span class="mord mathnormal" style=margin-right:.03588em>π</span><span class=mord>/</span><span class="mord mathnormal" style=margin-right:.10903em>N</span></span></span></span> ，根据测速公式,速度分辨率计算为</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><mi>v</mi><mo>=</mo><mi mathvariant=normal>Δ</mi><mi>ϖ</mi><mi>c</mi><mi mathvariant=normal>/</mi><mo stretchy=false>(</mo><mn>4</mn><mi>π</mi><msub><mi>f</mi><mi>c</mi></msub><msub><mi>T</mi><mi>c</mi></msub><mo stretchy=false>)</mo><mo>=</mo><mi>c</mi><mi mathvariant=normal>/</mi><mo stretchy=false>(</mo><mn>2</mn><msub><mi>F</mi><mi>c</mi></msub><msub><mi>T</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow></msub><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>\Delta v = \Delta \varpi c /(4 \pi f_c T_c)=c/(2F_cT_{tot})</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.03588em>v</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.02778em>ϖ</span><span class="mord mathnormal">c</span><span class=mord>/</span><span class=mopen>(</span><span class=mord>4</span><span class="mord mathnormal" style=margin-right:.03588em>π</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mclose>)</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">c</span><span class=mord>/</span><span class=mopen>(</span><span class=mord>2</span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>F</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.2806em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span></p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> （b）最大可测速度。考虑相邻两个chirp，即<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>T</mi><mi>c</mi></msub></mrow><annotation encoding=application/x-tex>T_c</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8333em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span></span></span></span> 内，一个向量最多只能旋转<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mo>±</mo><mi>π</mi></mrow><annotation encoding=application/x-tex>\pm \pi</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6667em;vertical-align:-.0833em></span><span class=mord>±</span><span class="mord mathnormal" style=margin-right:.03588em>π</span></span></span></span> ，否则会在FFT出现歧义，根据测速公式，最大可测速度为：<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>∣</mi><msub><mi>v</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mi mathvariant=normal>∣</mi><mo>=</mo><mi>c</mi><mi mathvariant=normal>/</mi><mo stretchy=false>(</mo><mn>4</mn><msub><mi>f</mi><mi>c</mi></msub><msub><mi>T</mi><mi>c</mi></msub><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>|v_{max}|=c/(4f_cT_c)</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>∣</span><span class=mord><span class="mord mathnormal" style=margin-right:.03588em>v</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.0359em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord>∣</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">c</span><span class=mord>/</span><span class=mopen>(</span><span class=mord>4</span><span class=mord><span class="mord mathnormal" style=margin-right:.10764em>f</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1076em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mord><span class="mord mathnormal" style=margin-right:.13889em>T</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.1514em><span style=top:-2.55em;margin-left:-.1389em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mathnormal mtight">c</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mclose>)</span></span></span></span></p><h3 id=速度计算代码>速度计算代码</h3><pre class="astro-code astro-code-themes github-dark github-light" data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>fft_data_all_frames_static_elimi = fft_data_all_frames - mean(fft_data_all_frames,4);</span></span>
<span class=line><span></span></span>
<span class=line><span>fft2D_data_all_frames = fftshift(fft(fft_data_all_frames_static_elimi,[],4),4);</span></span>
<span class=line><span></span></span>
<span class=line><span>%从每个帧中减去所有帧的平均值并作二维傅里叶变换， fftshift(X) 将零频分量移动到数组中心重新排列fft</span></span>
<span class=line><span></span></span>
<span class=line><span>figure();</span></span>
<span class=line><span></span></span>
<span class=line><span>frame_data = double(squeeze(fft2D_data_all_frames(130,:,:,:,:))); % frame_index needs to be assigned a suitable value</span></span>
<span class=line><span></span></span>
<span class=line><span>rd_map = squeeze(abs(frame_data(FOCUS_TX,FOCUS_RX,:,:))).';%这行代码计算了距离-多普勒图。</span></span>
<span class=line><span></span></span>
<span class=line><span>s_rd = mesh(velocity_seq,distance_seq,rd_map / max(max(rd_map)));</span></span>
<span class=line><span></span></span>
<span class=line><span>axis([-5.2083 5.2083 0 11.2957] ); % The line needs to be adjusted according to the parameters or deleted</span></span>
<span class=line><span></span></span>
<span class=line><span>view(2);</span></span>
<span class=line><span></span></span>
<span class=line><span>s_rd.FaceColor = 'flat';</span></span>
<span class=line><span></span></span>
<span class=line><span>xlabel('Velocity(m/s)')</span></span>
<span class=line><span></span></span>
<span class=line><span>ylabel('Range(m)')</span></span>
<span class=line><span></span></span>
<span class=line><span>set(gca,'FontName','Helvetica',"FontSize",18);</span></span>
<span class=line><span></span></span>
<span class=line><span>c_res = colorbar;</span></span>
<span class=line><span></span></span>
<span class=line><span>c_res.Label.String = 'Normalized power';</span></span>
<span class=line><span></span></span>
<span class=line><span>c_res.Label.FontSize = 16;</span></span>
<span class=line><span></span></span>
<span class=line><span>title("range-doppler spectrum")</span></span>
<span class=line><span></span></span></code></pre><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 实际速度谱：</p><img alt="" decoding=async height=408 loading=lazy src=/_astro/F7.DcCcX0Oh_2kJNBh.webp width=520><h2 id=角度测量>角度测量</h2><h3 id=角度计算>角度计算</h3><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <strong>普遍</strong>：</p><img alt="" decoding=async height=184 loading=lazy src=/_astro/F10.C-IK9mEM_Zbbmak.webp width=222><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 距离为r，角度为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>θ</mi></mrow><annotation encoding=application/x-tex>\theta</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6944em></span><span class="mord mathnormal" style=margin-right:.02778em>θ</span></span></span></span> ，雷达两个接收天线之间的距离为d。此时，信号经物体反射到达天线1和天线2的时延分别为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>τ</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn><mi>R</mi><mi mathvariant=normal>/</mi><mi>c</mi></mrow><annotation encoding=application/x-tex>\tau_1 = 2R/c</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5806em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.1132em>τ</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3011em><span style=top:-2.55em;margin-left:-.1132em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight">1</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>2</span><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=mord>/</span><span class="mord mathnormal">c</span></span></span></span> 和</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><msub><mi>τ</mi><mn>2</mn></msub><mo>=</mo><mo stretchy=false>(</mo><mn>2</mn><mi>R</mi><mo>+</mo><mi mathvariant=normal>Δ</mi><mi>R</mi><mo stretchy=false>)</mo><mi mathvariant=normal>/</mi><mi>c</mi></mrow><annotation encoding=application/x-tex>\tau_2 = ( 2R+ \Delta R )/c</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.5806em;vertical-align:-.15em></span><span class=mord><span class="mord mathnormal" style=margin-right:.1132em>τ</span><span class=msupsub><span class="vlist-t vlist-t2"><span class=vlist-r><span class=vlist style=height:.3011em><span style=top:-2.55em;margin-left:-.1132em;margin-right:.05em><span class=pstrut style=height:2.7em></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight">2</span></span></span></span><span class=vlist-s>​</span></span><span class=vlist-r><span class=vlist style=height:.15em><span></span></span></span></span></span></span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mopen>(</span><span class=mord>2</span><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=mspace style=margin-right:.2222em></span><span class=mbin>+</span><span class=mspace style=margin-right:.2222em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=mclose>)</span><span class=mord>/</span><span class="mord mathnormal">c</span></span></span></span> ,其中<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><mi>R</mi><mo>=</mo><mi>d</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow><annotation encoding=application/x-tex>\Delta R = d sin\theta</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6833em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.00773em>R</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:.6944em></span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style=margin-right:.02778em>θ</span></span></span></span> 为该信号到达两个天线的路径差.对物体所在的距离域分别取相位并计算两根天线的相位差为<span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi mathvariant=normal>Δ</mi><mi>ψ</mi><mo>=</mo><mn>2</mn><mi>π</mi><mi>d</mi><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi><mi mathvariant=normal>/</mi><mi>λ</mi></mrow><annotation encoding=application/x-tex>\Delta \psi = 2\pi d sin \theta / \lambda</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.8889em;vertical-align:-.1944em></span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.03588em>ψ</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class=mord>2</span><span class="mord mathnormal" style=margin-right:.03588em>π</span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style=margin-right:.02778em>θ</span><span class=mord>/</span><span class="mord mathnormal">λ</span></span></span></span> ，则物体的角度可以计算为：</p><blockquote><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mi>θ</mi><mo>=</mo><mi>a</mi><mi>r</mi><mi>c</mi><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy=false>(</mo><mi>λ</mi><mi mathvariant=normal>Δ</mi><mi>ψ</mi><mi mathvariant=normal>/</mi><mo stretchy=false>(</mo><mn>2</mn><mi>π</mi><mi>d</mi><mo stretchy=false>)</mo><mo stretchy=false>)</mo></mrow><annotation encoding=application/x-tex>\theta = arcsin(\lambda \Delta \psi/(2 \pi d))</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:.6944em></span><span class="mord mathnormal" style=margin-right:.02778em>θ</span><span class=mspace style=margin-right:.2778em></span><span class=mrel>=</span><span class=mspace style=margin-right:.2778em></span></span><span class=base><span class=strut style=height:1em;vertical-align:-.25em></span><span class="mord mathnormal">a</span><span class="mord mathnormal">rcs</span><span class="mord mathnormal">in</span><span class=mopen>(</span><span class="mord mathnormal">λ</span><span class=mord>Δ</span><span class="mord mathnormal" style=margin-right:.03588em>ψ</span><span class=mord>/</span><span class=mopen>(</span><span class=mord>2</span><span class="mord mathnormal" style=margin-right:.03588em>π</span><span class="mord mathnormal">d</span><span class=mclose>))</span></span></span></span></p></blockquote><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <strong>3DFFT</strong></p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 为了区分速度和距离均相同的物体，需要增加天线数量。假设有M根等距离分布的天线，则相邻两根天线上同一物体导致的相位差是相同的，为∆φ=2π∆R/λ=2πdsinθ/λ，因此在全部M个速度谱中该物体对应速度域的复数以2πdsinθ/λ  rad/1为角速度在复平面上转动。如果此速度域存在多个物体，则该速度域为多个旋转复数的叠加。因此，对这一系列速度域做FFT可以计算出这两个旋转复数的频率，从而换算对应物体的角度。</p><img alt="" decoding=async height=300 loading=lazy src=/_astro/F11.BgIEr7IV_Z1HKhTY.webp width=684><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> <strong>DBF</strong>(数字波束成形)</p><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=2em></mspace></mrow><annotation encoding=application/x-tex>\qquad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:2em></span></span></span></span> 1维</p><img alt="" decoding=async height=628 loading=lazy src=/_astro/F12.6VyhvarC_Z1FzxDE.webp width=1578><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=2em></mspace></mrow><annotation encoding=application/x-tex>\qquad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:2em></span></span></span></span> 2维：</p><img alt="" decoding=async height=910 loading=lazy src=/_astro/F13.vhA9k-ts_1BDyrY.webp width=1790><h3 id=角度计算代码>角度计算代码</h3><pre class="astro-code astro-code-themes github-dark github-light" data-language=plaintext style=background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>search_range= [-90:0.01:90];</span></span>
<span class=line><span></span></span>
<span class=line><span>tx1=squeeze(fft_data_all_frames(8,1,:,1,25));</span></span>
<span class=line><span></span></span>
<span class=line><span>tx4= squeeze(fft_data_all_frames(8,4,:,1,25));</span></span>
<span class=line><span></span></span>
<span class=line><span>signal_in=[tx1;tx4]; %取出不同天线阵列对应的物体的信号向量并转化为信号向量数组</span></span>
<span class=line><span></span></span>
<span class=line><span>Wave_length = 3e8/fc;</span></span>
<span class=line><span></span></span>
<span class=line><span>att_array=0:7 ;</span></span>
<span class=line><span></span></span>
<span class=line><span>att_array=att_array*Wave_length/2;</span></span>
<span class=line><span></span></span>
<span class=line><span>[spectrum,doas] = dbf(signal_in,att_array,fc,1,search_range);</span></span>
<span class=line><span></span></span>
<span class=line><span>figure();</span></span>
<span class=line><span></span></span>
<span class=line><span>plot(-search_range,spectrum/10);</span></span>
<span class=line><span></span></span>
<span class=line><span>disp(doas);</span></span>
<span class=line><span></span></span>
<span class=line><span>function [spectrum,doas] = dbf(signal_in,antenna_array,fc,numOfSignal,search_range)</span></span>
<span class=line><span></span></span>
<span class=line><span>% 参数：输入信号signal_in、天线阵列antenna_array、中心频率fc、信号数量numOfSignal和搜索范围search_range</span></span>
<span class=line><span></span></span>
<span class=line><span>c = 3e8;</span></span>
<span class=line><span></span></span>
<span class=line><span>signal_in = reshape(signal_in,[],1);</span></span>
<span class=line><span></span></span>
<span class=line><span>antenna_array = reshape(antenna_array,1,[]);</span></span>
<span class=line><span></span></span>
<span class=line><span>wave_length = c / fc;</span></span>
<span class=line><span></span></span>
<span class=line><span>% 将输入信号signal_in和天线阵列antenna_array进行reshape操作，使其变为列向量和行向量。然后，根据光速c和中心频率fc计算波长wave_length</span></span>
<span class=line><span></span></span>
<span class=line><span>angle = search_range / 180 * pi;</span></span>
<span class=line><span></span></span>
<span class=line><span>angle = reshape(angle,[],1);</span></span>
<span class=line><span></span></span>
<span class=line><span>phase_shift_matrix = exp(-1i * 2 * pi / wave_length * sin(angle) * antenna_array);</span></span>
<span class=line><span></span></span>
<span class=line><span>% 将搜索范围search_range转换为弧度，并将其reshape为列向量。然后，计算相移矩阵</span></span>
<span class=line><span></span></span>
<span class=line><span>spectrum = abs(phase_shift_matrix*signal_in);</span></span>
<span class=line><span></span></span>
<span class=line><span>% find object in spectrum</span></span>
<span class=line><span></span></span>
<span class=line><span>[pks, locs] = findpeaks(spectrum);</span></span>
<span class=line><span></span></span>
<span class=line><span>%在spectrum中找到峰值pks和对应的位置locs。将峰值按降序排序，选取前numOfSignal个峰值的位置max_index。</span></span>
<span class=line><span></span></span>
<span class=line><span>[~, pos] = sort(pks,'descend');</span></span>
<span class=line><span></span></span>
<span class=line><span>max_index = locs(pos(1:numOfSignal));</span></span>
<span class=line><span></span></span>
<span class=line><span>% 最后，根据位置max_index在搜索范围search_range中找到对应的方向角doas。</span></span>
<span class=line><span></span></span>
<span class=line><span>doas = search_range(max_index);</span></span>
<span class=line><span></span></span>
<span class=line><span>% % end</span></span>
<span class=line><span>二位只需要把输入改成二位输入二维遍历即可</span></span>
<span class=line><span></span></span></code></pre><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 一维测角角度谱</p><img alt="" decoding=async height=802 loading=lazy src=/_astro/F8.CVgSbIm9_ZqEPD1.webp width=1068><p><span class=katex><span class=katex-mathml><math xmlns=http://www.w3.org/1998/Math/MathML><semantics><mrow><mspace width=1em></mspace></mrow><annotation encoding=application/x-tex>\quad</annotation></semantics></math></span><span class=katex-html aria-hidden=true><span class=base><span class=strut style=height:0></span><span class=mspace style=margin-right:1em></span></span></span></span> 二维测角角度谱：</p><h2 id=""><img alt="" decoding=async height=430 loading=lazy src=/_astro/F9.2TyEOSRB_rfQxD.webp width=530></h2></div></article></div><div class="text-muted-foreground dark:prose-invert mt-8 prose prose-base prose-headings:before:-ms-4 prose-headings:before:absolute prose-headings:font-medium prose-headings:text-foreground prose-th:before:content-none prose-zinc" data-astro-cid-bvzihdzo style="--primaryColor:hsl(var(--primary) / var(--tw-text-opacity))"><div class="flex flex-col gap-y-2 border px-3 py-2 relative rounded-xl sm:px-4 sm:py-3"><svg class="opacity-10 absolute end-4 size-20 top-4"><use href=/icons/copyright-sponsor.svg#mingcute-copyright-line></use></svg><div class="flex flex-col"><div class=text-foreground>FMCW测距测速测角</div><div class=text-sm>https://astro-theme-pure.vercel.app/blog/fmcw-测距测速测角</div></div><div class="flex flex-row flex-wrap gap-x-5 gap-y-1 justify-start sm:gap-x-8"><div class="flex gap-x-2 sm:flex-col"><span class=text-foreground>Author</span> <span class="text-sm max-sm:place-self-center">Aki</span></div><div class="flex gap-x-2 sm:flex-col sm:min-w-16"><span class=text-foreground>Update date</span> <span class="text-sm max-sm:place-self-center">September 13, 2023</span></div><div class="flex gap-x-2 sm:flex-col"><span class=text-foreground>Copyright</span> <a class="text-muted-foreground text-sm max-sm:place-self-center" href=https://creativecommons.org/licenses/by/4.0/ target=_blank>CC BY-NC-SA 4.0</a></div></div><div class=relative><div class="flex flex-row gap-3"><button class="transition-colors group bg-primary-foreground hover:text-primary p-1 rounded-full sm:p-1.5 text-muted-foreground" id=copy-link><svg class=size-5><use href=/icons/copyright-sponsor.svg#mingcute-link-2-line></use></svg></button><button class="transition-colors group bg-primary-foreground hover:text-primary p-1 rounded-full sm:p-1.5 text-muted-foreground" id=get-qrcode><svg class=size-5><use href=/icons/copyright-sponsor.svg#mingcute-qrcode-2-line></use></svg></button><button class="transition-colors group bg-primary-foreground hover:text-primary p-1 rounded-full sm:p-1.5 text-muted-foreground" id=share-weibo><svg class=size-5><use href=/icons/copyright-sponsor.svg#mingcute-weibo-line></use></svg></button></div><div class="transition-all duration-300 ease-in-out *:my-0 -mt-2 absolute aria-expanded:max-h-[256px] aria-expanded:opacity-100 aria-expanded:translate-y-4 bg-primary-foreground border box-content max-h-0 opacity-0 overflow-hidden p-4 rounded-xl z-10" id=qrcode aria-expanded=false></div></div></div><div class="border-t-0 border mx-6 pb-1.5 pt-1 px-3 rounded-b-xl sm:mx-8 sm:px-4"><a class="flex justify-between no-underline text-muted-foreground" href=/projects#sponsorship target=_blank><div>Buy me a cup of coffee ☕.</div><svg class="size-5 m-1"><use href=/icons/copyright-sponsor.svg#mingcute-receive-money-line></use></svg></a></div><script type=module>import QRCode from"/scripts/qrcode.js";const link=window.location.href,copyLink=document.getElementById("copy-link");function loadqrcode(e){if(!e)throw new Error("qrcode container not found");""===e.innerHTML&&new QRCode(e,link)}copyLink?.addEventListener("click",(()=>{navigator.clipboard.writeText(link)}));const getQRCode=document.getElementById("get-qrcode"),qrcodeContainer=document.getElementById("qrcode");if(!qrcodeContainer)throw new Error("qrcode container not found");getQRCode?.addEventListener("click",(()=>{"true"===qrcodeContainer.ariaExpanded?qrcodeContainer.ariaExpanded="false":(loadqrcode(qrcodeContainer),qrcodeContainer.ariaExpanded="true")}));const shareWeibo=document.getElementById("share-weibo");shareWeibo?.addEventListener("click",(()=>{const e=`http://service.weibo.com/share/share.php?url=${link}&title=${document.title}&pic=https://cravatar.cn/avatar/1ffe42aa45a6b1444a786b1f32dfa8aa?s=400`;window.open(e,"_blank")}))</script><div class="mt-3 sm:mt-6 gap-2 grid grid-cols-1 sm:gap-4 sm:grid-cols-2"><a class="flex items-center border-transparent duration-300 group border gap-3 hover:bg-primary-foreground no-underline px-4 py-2 rounded-lg sm:py-4 transition-colors" href=/blog/fmcw-点云与深度学习><svg class="transition-colors group-hover:stroke-primary stroke-muted-foreground rotate-180" fill=none height=20 stroke-linecap=round stroke-linejoin=round stroke-width=2.5 viewBox="0 0 24 24" width=20 xmlns=http://www.w3.org/2000/svg><line class="transition-all duration-300 ease-in-out group-hover:translate-x-1 group-hover:scale-x-100 scale-x-0 translate-x-4" x1=5 x2=19 y1=12 y2=12></line><polyline class="transition-all duration-300 ease-in-out group-hover:translate-x-1 translate-x-0" points="12 5 19 12 12 19"></polyline></svg><div class="flex flex-col gap-0.5 grow max-w-[80%] sm:gap-1.5"><div class="text-muted-foreground text-sm font-normal uppercase">Prev</div><div class="transition-colors font-medium truncate whitespace-nowrap">FMCW点云与深度学习</div></div></a><a class="flex items-center border-transparent duration-300 group border gap-3 hover:bg-primary-foreground no-underline px-4 py-2 rounded-lg sm:py-4 transition-colors justify-end text-right" href=/blog/fmcw基础><div class="flex flex-col gap-0.5 grow max-w-[80%] sm:gap-1.5"><div class="text-muted-foreground text-sm font-normal uppercase">Next</div><div class="transition-colors font-medium truncate whitespace-nowrap">FMCW基础</div></div><svg class="transition-colors group-hover:stroke-primary stroke-muted-foreground" fill=none height=20 stroke-linecap=round stroke-linejoin=round stroke-width=2.5 viewBox="0 0 24 24" width=20 xmlns=http://www.w3.org/2000/svg><line class="transition-all duration-300 ease-in-out group-hover:translate-x-1 group-hover:scale-x-100 scale-x-0 translate-x-4" x1=5 x2=19 y1=12 y2=12></line><polyline class="transition-all duration-300 ease-in-out group-hover:translate-x-1 translate-x-0" points="12 5 19 12 12 19"></polyline></svg></a></div><comment-component data-astro-cid-ksttp56e><div class="mt-3 sm:mt-6 not-prose" id=waline data-astro-cid-ksttp56e>Comment seems to stuck. Try to refresh?✨</div></comment-component></div><button class="flex items-center border-transparent duration-300 group bg-primary-foreground border-2 bottom-8 data-[show=true]:opacity-100 data-[show=true]:translate-y-0 end-4 fixed h-10 hover:border-border/75 justify-center opacity-0 rounded-full sm:end-8 sm:h-12 sm:w-12 text-muted-foreground transition-all translate-y-28 w-10 z-90" id=to-top-btn aria-label="Back to Top" data-show=false><div class="flex items-center justify-center absolute bottom-0 end-0 group-[.ended]:opacity-0 group-hover:opacity-0 start-0 top-0 transition-opacity"><span class=text>10</span> <span class=text-xs>%</span></div><svg class="size-6 group-[.ended]:opacity-100 group-hover:opacity-100 opacity-0 transition-opacity"><use href=/icons/ui.svg#mingcute-up-line></use></svg></button><script>!function(){const e=document.getElementById("to-top-btn"),t=e.children[0].children[0],n=document.getElementById("blog-hero"),o=document.getElementById("content");e.addEventListener("click",(()=>{document.documentElement.scrollTo({behavior:"smooth",top:0})}));new IntersectionObserver((function(t){t.forEach((t=>{e.dataset.show=(!t.isIntersecting).toString()}))})).observe(n);{const n=o.scrollHeight,c=o.offsetTop,d=document.documentElement.clientHeight;document.addEventListener("scroll",(()=>{const o=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;if(!(e<c))return Math.round((e-c)/(n-d)*100)}();void 0!==o&&(t.innerText=o.toString(),e.classList.toggle("ended",o>100))}))}}()</script></div><footer class="mt-24 mx-auto w-full"><div class="border-t border-border pt-5"><div class="flex items-center flex-col sm:flex-row gap-y-3 sm:flex sm:gap-y-0 sm:items-center sm:justify-between"><div class="flex items-center flex-col sm:flex-row gap-2 sm:gap-x-4 text-sm"><p class="">© <samp>2024</samp> Aki. All rights reserved.</p></div><div class="flex items-center justify-between"><div class="flex items-center gap-x-4"><a class="transition-all text-muted-foreground hover:text-muted-foreground/75 inline-block" href=https://github.com/Aki-yzh aria-label=github><svg class=size-6><use href=/icons/social.svg#mingcute-github-line></use></svg> </a><a class="transition-all text-muted-foreground hover:text-muted-foreground/75 inline-block" href=/rss.xml aria-label=rss><svg class=size-6><use href=/icons/social.svg#mingcute-rss-2-line></use></svg></a></div></div></div></div></footer></main></body></html>